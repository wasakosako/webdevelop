# ToDo リストアプリケーション設計書

## 概要

React と Node.js を使用して、シンプルで機能的な ToDo リストアプリケーションを構築します。

---

## 機能要件

### 1. ユーザー認証

- **サインアップ**: 新規ユーザー登録。
- **ログイン**: ユーザー認証後に JWT トークンを発行。
- **ログアウト**: セッションを終了。

### 2. タスク管理機能

- **タスクの作成、編集、削除**
- **タスクに以下のプロパティを設定**：
  - **タイトル**: タスクの概要。
  - **説明**: 詳細な内容。
  - **優先度**: 高・中・低の 3 段階。
  - **締切日**: タスクの期限。
  - **ステータス**: 未完了・完了。

### 3. フィルタリング・並び替え

- **フィルタリング**:
  - ステータス（未完了、完了）でフィルタ。
  - 優先度や期限で絞り込み。
- **並び替え**:
  - 作成日時順、優先度順での並び替え。

### 4. 通知機能（オプション）

- 締切が近いタスクに通知を表示。

---

## 非機能要件

### 1. パフォーマンス

- **1 秒以内のレスポンス時間を目標**

### 2. セキュリティ

- パスワードをハッシュ化（bcrypt）。
- トークン認証を使用して API アクセスを制限。

### 3. スケーラビリティ

- 複数ユーザーが同時に利用可能な設計。

### 4. デプロイ

- **フロントエンド**: Vercel または Netlify。
- **バックエンド**: AWS, Render, または Heroku。
- **データベース**: MongoDB Atlas。

---

## データベース設計

### 1. ユーザーテーブル

| フィールド名   | 型       | 必須 | 説明                       |
| -------------- | -------- | ---- | -------------------------- |
| `_id`          | ObjectId | ✔    | ユーザー ID（自動生成）    |
| `username`     | string   | ✔    | ユーザー名                 |
| `email`        | string   | ✔    | メールアドレス（ユニーク） |
| `passwordHash` | string   | ✔    | ハッシュ化されたパスワード |
| `createdAt`    | Date     | ✔    | ユーザー作成日時           |
| `updatedAt`    | Date     | ✔    | 最終更新日時               |

### 2. タスクテーブル

| フィールド名  | 型              | 必須 | 説明                        |
| ------------- | --------------- | ---- | --------------------------- |
| `_id`         | ObjectId        | ✔    | タスク ID（自動生成）       |
| `title`       | string          | ✔    | タスク名                    |
| `description` | string          |      | タスクの詳細                |
| `status`      | string          | ✔    | ステータス（未完了/完了）   |
| `priority`    | string          | ✔    | 優先度（高/中/低）          |
| `dueDate`     | Date            |      | 締切日                      |
| `ownerId`     | ObjectId        | ✔    | タスク所有者（users.\_id）  |
| `sharedWith`  | Array<ObjectId> |      | タスクを共有するユーザー ID |
| `createdAt`   | Date            | ✔    | タスク作成日時              |
| `updatedAt`   | Date            | ✔    | 最終更新日時                |

---

## API 設計

### 1. 認証エンドポイント

| メソッド | エンドポイント     | 説明                   |
| -------- | ------------------ | ---------------------- |
| `POST`   | `/api/auth/signup` | ユーザー登録           |
| `POST`   | `/api/auth/login`  | ログイン（JWT を返却） |
| `POST`   | `/api/auth/logout` | ログアウト             |

### 2. タスクエンドポイント

| メソッド | エンドポイント       | 説明                     |
| -------- | -------------------- | ------------------------ |
| `GET`    | `/api/tasks`         | ユーザーのタスク一覧取得 |
| `POST`   | `/api/tasks`         | 新しいタスクを作成       |
| `PUT`    | `/api/tasks/:taskId` | タスクの更新             |
| `DELETE` | `/api/tasks/:taskId` | タスクの削除             |

---

## 使用技術スタック

### フロントエンド

- **フレームワーク**: React（Vite）
- **UI ライブラリ**: Chakra UI または Material UI
- **HTTP クライアント**: Axios

### バックエンド

- **フレームワーク**: Node.js（Express）
- **認証**: JSON Web Token (JWT)
- **パスワードハッシュ化**: bcrypt

### データベース

- **種類**: MongoDB（Mongoose 使用）

---
